procgen-impala:
  env: procgen_env_wrapper # Change this at your own risk :D
  run: IMPALA
  # Can be replaced by any of the available agents as described at :
  # https://github.com/ray-project/ray/blob/master/rllib/agents/registry.py#L103
  #
  # Internally, rllib uses the terminology of Trainable, Algorithms, Agents depending
  # on the context in which it is used. In this repository, we will consistently
  # use the terminology of "Algorithms" to refer to these Trainables/Agents.
  #
  # This can also be replaced by a custom "algorithm"
  # For addition of custom algorithms,
  # Please refer to :
  # https://github.com/AIcrowd/neurips2020-procgen-starter-kit/blob/master/algorithms/registry.py
  ################################################
  # === Stop Conditions ===
  ################################################
  stop:
    timesteps_total: 8000000

  ################################################
  # === Settings for Checkpoints ===
  ################################################
  checkpoint_freq: 100
  checkpoint_at_end: True
  keep_checkpoints_num: 5

  config:
    ################################################
    ################################################
    # === Settings for the Procgen Environment ===
    ################################################
    ################################################
    env_config:
      env_name: coinrun
      num_levels: 0
      start_level: 0
      paint_vel_info: False
      use_generated_assets: False
      center_agent: True
      use_sequential_levels: False
      distribution_mode: easy

    ################################################
    ################################################
    # === Environment Settings ===
    ################################################
    ################################################
    ignore_worker_failures: False
    log_sys_usage: True

    ################################################
    ################################################
    # === Settings for Model ===
    ################################################
    ################################################
    model:
      custom_model: impala_cnn_tf
      custom_options: {}

    ################################################
    ################################################
    # === Settings for Rollout Worker processes ===
    ################################################
    ################################################
    num_workers: 6
    num_envs_per_worker: 16

    ################################################
    ################################################
    # === Advanced Resource Settings ===
    ################################################
    ################################################
    num_cpus_per_worker: 1
    num_gpus_per_worker: 0.1
    num_cpus_for_driver: 1

    ################################################
    ################################################
    # === Settings for the Trainer process ===
    ################################################
    ################################################
    num_gpus: 0.3

    ################################################
    ################################################
    # === Exploration Settings ===
    ################################################
    ################################################
    explore: True,
    exploration_config:
      type: "StochasticSampling"

    ################################################
    ################################################
    # === Advanced Rollout Settings ===
    ################################################
    ################################################
    observation_filter: "NoFilter"
    synchronize_filters: True
    compress_observations: False
    timesteps_per_iteration: 0
    seed: null
